actor GhostsNGoblinsThing2 : GhostsNGoblinsThing Replaces GhostsNGoblinsThing
{
speed 9
}

actor UndoLMS : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
states
{
Spawn:
TNT1 A 1
stop
Pickup:
SKLB G 0 A_ChangeFlag("SHOOTABLE",1)
SKLB G 1 A_ChangeFlag("DONTRIP",0)
stop
}
}

actor ETank2 : ETank Replaces ETank
{
States
{
Spawn:
EBAL E 0
EBAL E 0 A_JumpIf(ACS_ExecuteWithResult(975,0)==3,"Death")
EBAL EF 6
Goto Spawn+2
Use:
EBAL E 0 A_JumpIfInventory("HealBlocker",1,"Fale")
EBAL E 0 A_JumpIfHealthLower(100,"Success")
fail
Success:
EBAL E 0 A_PlaySound("item/energyup")
EBAL E 0 A_PlaySoundEx("item/refill","Voice")
EBAL E 0 HealThing(100)
EBAL E 0 A_TakeInventory("ETank",1)
stop
Death:
TNT1 A 0
stop
Fale:
EBAL E 0
Fail
}
}